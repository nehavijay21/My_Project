{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<style>
    
    .container {
        padding-bottom: 20px; /* Space at the bottom */
    }
    .footer {
        position: relative;
        bottom: 0;
        width: 100%;
        text-align: center;
        padding: 10px 0;
        background-color: #f8f9fa;
    }
    .ongoing-examination-card .cards {
        background-color: #F1FAFE; /* Very light blue background */
    }
    .duty-allotment-card .cards{
        background-color: #F1FAFE; /* Very light blue background */
    }
    .duty-preference-card .cards{
        background-color: #F1FAFE; /* Very light blue background */
    }


    .card{
        padding-bottom: 10px;
        margin-bottom: 15px;
        overflow: visible;
        text-align: center;
        border: 2px solid #1a73e8;
        background-color: white;

        transform: scale(0.95);
        transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        border-radius: 12px;
    }

    .card:hover{
        transform: scale(1.05) translateY(-5px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
}

    /* General card-body styles */
    .card-body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;  /* Default: Center text */
        height: 100%; 
    }
    .card-title {
        font-size: 1.25rem;
        font-weight: bold;
        text-align: center; /* Ensures the title is centered */
    }
    .card-text {
        font-size: 1rem;
        text-align: center;
    }


    .card a.btn {
        display: block;
        width: 50%; 
        padding: 8px;
        background-color: white; 
        border: 2px solid #1a73e8; 
        color: #1a73e8; 
        font-weight: bold;
        transition: all 0.3s ease-in-out;
    }

    
    .card a.btn:hover {
        background-color: #1a73e8; 
        color: white;
        border-color: #1a73e8;
    }

    
    
    
</style>
<div class="container mt-5">
    
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="display-4 fw-bold" style="font-family: 'Poppins', Georgia, 'Times New Roman', Times, serif; color: #000000; font-size: 2.5rem;">
                Resource Allocation and Invigilation Scheduling Engine
            </h1>
        </div>
    </div>

    <!-- Added a specific class 'index-cards' to target only these cards on the index page -->
   <!-- Added a specific class 'index-cards' to target only these cards on the index page -->
{% if is_chief %}
<div class="row index-cards">
    <!-- Manage Programmes Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Programmes</h5>
                <p class="card-text">Easily organize and oversee all your programs.</p>
                <a href="{% url 'program_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-clipboard-data me-2"></i> Programs
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Rooms Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Rooms</h5>
                <p class="card-text">Maintain room details efficiently.</p>
                <a href="{% url 'room_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-door-open me-1"></i> Rooms
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Course Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Course</h5>
                <p class="card-text">Handle your course data with flexibility.</p>
                <a href="{% url 'course_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-book me-1"></i> Courses
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Exam Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Exam</h5>
                <p class="card-text">Easily schedule and manage exam data.</p>
                <a href="{% url 'exam_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-journal-check me-1"></i> Exam
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Timetable Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Timetable</h5>
                <p class="card-text">Easily schedule and manage timetable.</p>
                <a href="{% url 'timetable_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-calendar me-1"></i> Timetable
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Teacher Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Teacher</h5>
                <p class="card-text">Easily add and manage teacher.</p>
                <a href="{% url 'teacher_list' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-person-plus me-1"></i> Teacher
                </a>
            </div>
        </div>
    </div>

    <!-- Manage Duty Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Manage Duty</h5>
                <p class="card-text">Easily manage duty allotment.</p>
                <a href="{% url 'duty_allotment' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-clipboard-check me-1"></i> Duty
                </a>
            </div>
        </div>
    </div>

    <!-- Duty Summary Report Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Duty Summary Report</h5>
                <p class="card-text">View total duties taken by teachers in a selected time range.</p>
                <a href="{% url 'chief_duty_history' %}" class="btn btn-success btn-block">
                    <i class="bi bi-bar-chart-fill me-1"></i> Summary
                </a>
            </div>
        </div>
    </div>

    <!-- Exam Attendance Card -->
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-light rounded">
            <div class="card-body">
                <h5 class="card-title">Exam Attendance</h5>
                <p class="card-text">Setup and upload nominal roll for attendance.</p>
                <a href="{% url 'setup_nominal_roll' %}" class="btn btn-primary btn-block">
                    <i class="bi bi-file-earmark-spreadsheet me-1"></i> Nominal Roll
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

        
        

        {% if is_teacher %}
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">Manage Duty Preferences</h5>
                        <p class="card-text">Easily manage teacher's duty preferences.</p>
                        <a href="{% url 'preference_list' %}" class="btn btn-primary btn-block">Go to Duty Preferences</a>
                    </div>
                </div>
            </div>
        
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm border-light rounded">
                    <div class="card-body">
                        <h5 class="card-title">View Duty History</h5>
                        <p class="card-text">See your duty allotment history.</p>
                        <a href="{% url 'duty_history' %}" class="btn btn-primary btn-block">View Duty History</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row index-cards">
            <div class="col-md-12 mb-4 ongoing-examination-card">
                <div class="cards shadow-sm border-light rounded">
                    <div class="cards-body">
                        <h4 class="cards-title" style="text-align:center">Ongoing Examinations</h4>
                        <ul>
                        {% for exam in ongoing_exams %}
                        <li>
                            {% with exam.sem as semester %}
                            {% if semester == 1 %}
                            {{ semester }}st Semester {{ exam.level }} Examination {{ exam.month }} {{ exam.year }}
                            {% elif semester == 2 %}
                            {{ semester }}nd Semester {{ exam.level }} Examination {{ exam.month }} {{ exam.year }}
                            {% elif semester == 3 %}
                            {{ semester }}rd Semester {{ exam.level }} Examination {{ exam.month }} {{ exam.year }}
                            {% else %}
                            {{ semester }}th Semester {{ exam.level }} Examination {{ exam.month }} {{ exam.year }}
                            {% endif %}
                            {% endwith %}
                        </li>
                        {% empty %}
                        <li>No ongoing examinations</li>
                        {% endfor %}

                        </ul>
                        
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container mt-4">
            <div class="row">
                <!-- Duty Allotted Dates Column -->
                <div class="col-12 mb-4 duty-allotment-card">
                    <div class="cards shadow-sm border-light rounded">
                        <div class="cards-body">
                            <h5 class="cards-title text-start">Duty Allotted Dates</h5>
                            <ul class="list-group text-start">
                                {% if duty_allotted_dates %}
                                    {% for duty in duty_allotted_dates %}
                                        <li class="list-group-item">{{ duty.date }} - Room {{ duty.room }}</li>
                                    {% endfor %}
                                {% else %}
                                    <li class="list-group-item">No duty allotments</li>
                                {% endif %}
                            </ul>                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

                <!-- Preferred Dates Column -->
                <div class="col-12 mt-4 duty-preference-card">
                    <div class="cards shadow-sm border-light rounded">
                        <div class="cards-body">
                            <h5 class="cards-title text-start">Preferred Dates</h5>
                            <ul class="list-group text-start">
                                {% if preferred_dates %}
                                    {% for preference in preferred_dates %}
                                        <li class="list-group-item">{{ preference.pref_date }}</li>
                                    {% endfor %}
                                {% else %}
                                    <li class="list-group-item">No preferred dates</li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

 